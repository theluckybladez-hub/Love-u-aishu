<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday Website 2.0 | Aishu's Birthday">
    <meta name="github" content="https://github.com/Aoudumber-Bade">
    <title>Aishu Birthday</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        /* OVERRIDE STYLES FOR MEMORIES BUTTON */
        .btn-container {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            gap: 15px !important;
            margin-top: 20px !important;
            width: 100% !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        #memoriesBtn {
            position: relative !important;
            margin-top: 15px !important;
            background: linear-gradient(45deg, #ff7882, #ff9a9e, #fad0c4) !important;
            outline: none !important;
            padding: 14px 30px !important;
            font-size: 1.2rem !important;
            border-radius: 50px !important;
            border: 3px solid #333 !important;
            font-family: "Sriracha", cursive !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            cursor: pointer !important;
            z-index: 3 !important;
            transform: scale(1) !important;
            transition: all 0.5s ease-in-out !important;
            min-width: 320px !important;
            color: #fff !important;
            font-weight: bold !important;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            box-shadow: 0 4px 15px rgba(255, 120, 130, 0.4);
            visibility: visible !important;
            opacity: 1 !important;
            animation: buttonEntrance 0.8s 16.5s forwards, pulseGlow 2s 17s infinite !important;
            transform: scale(0) !important;
        }

        @keyframes buttonEntrance {
            0% {
                transform: scale(0) translateY(50px);
                opacity: 0;
            }
            70% {
                transform: scale(1.1) translateY(-5px);
                opacity: 1;
            }
            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 0 15px rgba(255, 120, 130, 0.6);
            }
            50% {
                box-shadow: 0 0 25px rgba(255, 120, 130, 0.9);
            }
        }

        #memoriesBtn:active {
            transform: scale(0.95) !important;
        }

        #memoriesBtn i {
            margin: 0 12px !important;
            color: #fff !important;
            font-size: 1.3rem !important;
            transition: all 0.3s !important;
        }

        #memoriesBtn .fa-heart {
            color: #ff4444 !important;
            animation: heartbeat 1.5s infinite !important;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        #memoriesBtn:hover {
            border-color: #ff4444 !important;
            background: linear-gradient(45deg, #ff4444, #ff7882, #ff9a9e) !important;
            color: #fff !important;
            box-shadow: 0 8px 25px rgba(255, 68, 68, 0.6) !important;
            transform: translateY(-5px) scale(1.05) !important;
        }

        #memoriesBtn:hover i:first-child {
            transform: rotate(10deg) scale(1.2);
        }

        #memoriesBtn:hover .fa-heart {
            animation: heartbeat 0.8s infinite !important;
        }

        /* Fix for both buttons animation */
        .left .btn {
            transform: scale(0);
            animation: scaleCricle 2s 16s forwards ease-in-out;
        }

        #btn__letter {
            animation: scaleCricle 2s 16s forwards ease-in-out;
        }

        /* Make sure container is properly positioned */
        .left {
            position: relative;
            width: 40%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Responsive fixes */
        @media screen and (max-width: 768px) {
            #memoriesBtn {
                min-width: 280px !important;
                font-size: 1.1rem !important;
                padding: 12px 25px !important;
                margin-top: 10px !important;
            }
            
            .btn-container {
                gap: 12px;
                margin-top: 15px;
            }
        }

        @media screen and (max-width: 480px) {
            #memoriesBtn {
                min-width: 250px !important;
                font-size: 1rem !important;
                padding: 10px 20px !important;
                margin-top: 8px !important;
            }
        }

        /* Ensure button is above all elements */
        #memoriesBtn {
            position: relative;
            z-index: 1000 !important;
        }
    </style>
</head>

<body>
    <!-- Background music AUTOPLAY -->
    <audio id="backgroundMusic" autoplay loop>
        <source src="birthday-music.mp3" type="audio/mpeg">
        <source src="birthday-music.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio>
    
    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>
                
                <!-- BUTTONS CONTAINER - FIXED -->
                <div class="btn-container" style="
                    display: flex !important; 
                    flex-direction: column !important; 
                    align-items: center !important; 
                    gap: 20px !important; 
                    margin-top: 30px !important; 
                    width: 100% !important;
                    position: relative !important;
                    z-index: 100 !important;
                ">
                    <!-- Original Letter Button -->
                    <div class="btn" style="
                        display: block !important; 
                        visibility: visible !important; 
                        opacity: 1 !important;
                    ">
                        <button id="btn__letter" style="
                            min-width: 320px !important;
                            position: relative !important;
                            z-index: 2 !important;
                        ">
                            <div class="mail">
                                Aishu ise open karoðŸ˜š
                                <i class="fa-regular fa-envelope"></i>
                            </div>
                        </button>
                    </div>
                    
                    <!-- NEW MEMORIES BUTTON - FIXED -->
                    <div class="btn" style="
                        display: block !important; 
                        visibility: visible !important; 
                        opacity: 1 !important;
                        margin-top: 15px !important;
                        position: relative !important;
                        z-index: 3 !important;
                    ">
                        <button id="memoriesBtn">
                            <div class="mail">
                                <i class="fas fa-images"></i> Photos & Voice Note 
                                <i class="fas fa-heart"></i>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/unnamed.png" alt="Aishu">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Dear Aishu</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="Balloon">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="Balloon">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="Flower">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="Flower">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="Flower">
        </div>
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="Decoration" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="Smiley" width="100">
        </div>

        <!-- Mail Box -->
        <div class="boxMail">
            <i class="fa-solid fa-xmark"></i>
            <div class="boxMail-container">
                <div class="card1">
                    <div class="userImg">
                        <img src="images/unnamed.png" alt="Aishu">
                    </div>
                    <h4 class="username">To: Aishu ðŸ’–<span class="underline"></span></h4>
                    <h3>Happy Birthday</h3>
                    <div class="imageCute">
                        <img src="cute1.png" alt="Cute Image">
                    </div>
                </div>
                <div class="card2">
                    <div class="card2-content">
                        <!-- Content will be dynamically added -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Background music - AUTOPLAY
        document.addEventListener('DOMContentLoaded', function() {
            const backgroundMusic = document.getElementById('backgroundMusic');
            if (backgroundMusic) {
                backgroundMusic.volume = 0.5; // Volume 50%
                backgroundMusic.play().catch(function(error) {
                    console.log("Music autoplay blocked. Click anywhere to start.");
                    // Ek baar click karne par music start ho jayega
                    document.addEventListener('click', function startMusicOnce() {
                        backgroundMusic.play();
                        document.removeEventListener('click', startMusicOnce);
                    });
                });
            }
            
            // Debug: Check if button exists
            setTimeout(function() {
                const btn = document.getElementById('memoriesBtn');
                console.log("Memories button found:", btn);
                if (btn) {
                    console.log("Button styles:", window.getComputedStyle(btn));
                    btn.style.display = 'flex !important';
                    btn.style.visibility = 'visible !important';
                    btn.style.opacity = '1 !important';
                }
            }, 1000);
        });

        let datetxt = "10th February";
        let datatxtletter = "Aishu pata nhi main kyu tum se itna pyar karta hu lekin kabhi tumko khona nhi chahta bss isliye itni rok tok karta hu shayad tumhe Mera ye sab rokna rokna pasand na ho lekin mere paas koi nhi hai tumhare siwa or shayad iss wajah se tumhe khone ka darr rehta hai ðŸ¥ºðŸ’•";
        let titleLetter = "To You!";
        let charArrDate = datetxt.split('');
        let charArrDateLetter = datatxtletter.split('');
        let charArrTitle = titleLetter.split('');
        let currentIndex = 0;
        let currentIndexLetter = 0;
        let currentIndexTitle = 0;
        let date__of__birth = document.querySelector(".date__of__birth span");
        
        // Date typing animation
        setTimeout(function () {
            timeDatetxt = setInterval(function () {
                if (currentIndex < charArrDate.length) {
                    date__of__birth.textContent += charArrDate[currentIndex];
                    currentIndex++;
                }
                else {
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-star"
                    document.querySelector(".date__of__birth").prepend(i)
                    document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                    clearInterval(timeDatetxt)
                }
            }, 100)
        }, 12000)

        var intervalContent;
        var intervalTitle;
        
        // Letter button click handler
        $("#btn__letter").on("click", function () {
            // Pehle turant boxMail open karo
            $(".boxMail").addClass('active');
            
            // Clear previous content
            $(".card2-content").html('');
            
            // 1 second baad text typing start karo
            setTimeout(function() {
                // Title typing
                let titleElement = $("<h3>").addClass("letter-title").css({
                    'font-family': "'Dancing Script', cursive",
                    'font-size': '40px',
                    'padding': '20px 0px 10px 60px',
                    'color': '#fff',
                    'text-shadow': '0 0 8px #FF7882'
                });
                $(".card2-content").append(titleElement);
                
                intervalTitle = setInterval(function () {
                    if (currentIndexTitle < charArrTitle.length) {
                        titleElement.text(titleElement.text() + charArrTitle[currentIndexTitle]);
                        currentIndexTitle++;
                    }
                    else {
                        clearInterval(intervalTitle);
                        
                        // Title complete hone ke baad message typing
                        let messageElement = $("<h2>").addClass("letter-message").css({
                            'font-family': "'Dancing Script', cursive",
                            'font-size': '22px',
                            'padding': '0px 20px',
                            'text-indent': '20px',
                            'color': '#fff',
                            'opacity': '0'
                        });
                        $(".card2-content").append(messageElement);
                        
                        // Add cute image
                        let cuteImage = $("<div>").addClass("imageCute2").html('<img src="cute2.png" alt="">');
                        $(".card2-content").append(cuteImage);
                        
                        // Thoda wait karo message ke liye
                        setTimeout(function() {
                            messageElement.css('opacity', '1');
                            messageElement.css('transition', 'opacity 2s');
                            
                            intervalContent = setInterval(function () {
                                if (currentIndexLetter < charArrDateLetter.length) {
                                    messageElement.text(messageElement.text() + charArrDateLetter[currentIndexLetter]);
                                    currentIndexLetter++;
                                    
                                    // Scroll to show new text
                                    $(".card2-content").scrollTop($(".card2-content")[0].scrollHeight);
                                }
                                else {
                                    clearInterval(intervalContent);
                                }
                            }, 50); // Fast typing speed
                        }, 500);
                    }
                }, 100);
            }, 1000); // 1 second delay
        });
        
        // Close button functionality
        $(".fa-xmark").on("click", function () {
            clearInterval(intervalContent);
            clearInterval(intervalTitle);
            
            // Reset variables
            currentIndexLetter = 0;
            currentIndexTitle = 0;
            
            // Close boxMail
            $(".boxMail").removeClass('active');
            
            // Clear content
            $(".card2-content").html('');
        });

        // Existing functionality maintain karo
        let mailBox = document.querySelector('.mail')
        let boxmail = document.querySelector('.boxMail')
        var close = document.querySelector('.fa-xmark')
        
        if (mailBox) {
            mailBox.onclick = function () {
                mailBox.classList.toggle('active')
                boxmail.classList.add('active')
            }
        }

        if (close) {
            close.addEventListener('click', function () {
                boxmail.classList.remove('active')
            });
        }
        
        // NEW: Memories button click handler - FIXED
        $("#memoriesBtn").on("click", function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            console.log("Memories button clicked!");
            
            // Button animation
            $(this).css({
                'transform': 'scale(0.95)',
                'background': 'linear-gradient(45deg, #ff4444, #ff7882)'
            });
            
            // Open memories page in new tab
            setTimeout(() => {
                window.open("memories.html", "_blank");
                
                // Reset button animation
                setTimeout(() => {
                    $(this).css({
                        'transform': 'translateY(-5px) scale(1.05)',
                        'background': 'linear-gradient(45deg, #ff4444, #ff7882, #ff9a9e)'
                    });
                }, 300);
            }, 200);
        });
        
        // Force button to be visible on load
        window.onload = function() {
            const btn = document.getElementById('memoriesBtn');
            if (btn) {
                btn.style.display = 'flex';
                btn.style.visibility = 'visible';
                btn.style.opacity = '1';
                btn.style.transform = 'scale(0)';
            }
        };
        
        // Add hover effect for memories button
        $("#memoriesBtn").hover(
            function() {
                $(this).css({
                    'transform': 'translateY(-5px) scale(1.05)',
                    'box-shadow': '0 10px 30px rgba(255, 68, 68, 0.7)'
                });
            },
            function() {
                $(this).css({
                    'transform': 'translateY(0) scale(1)',
                    'box-shadow': '0 4px 15px rgba(255, 120, 130, 0.4)'
                });
            }
        );
        
        // Debug function to check button state
        function checkButtonState() {
            const btn = document.getElementById('memoriesBtn');
            if (btn) {
                console.log("Button exists");
                console.log("Display:", window.getComputedStyle(btn).display);
                console.log("Visibility:", window.getComputedStyle(btn).visibility);
                console.log("Opacity:", window.getComputedStyle(btn).opacity);
            } else {
                console.log("Button NOT found!");
            }
        }
        
        // Check button after page loads
        setTimeout(checkButtonState, 2000);
    </script>
</body>
</html>